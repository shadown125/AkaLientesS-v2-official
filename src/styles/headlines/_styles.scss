@use "../susanoo";
@use "../helpers";
@use "variables";

h1,
h2,
h3,
h4,
h5,
h6 {
    font: {
        size: unset;
        weight: normal;
    }
    transition: color 0.2s linear;
    &::selection {
        background: var(--color-tertiary)
    }
}

.headline {
    color: var(--color-headline, white);
    &:not(:first-child) {
        margin: {
            top: susanoo.rem-calc(16);
        }
    }
    margin: {
        bottom: susanoo.rem-calc(24);
    }
}

.title {
    &::before {
        background: {
            image: linear-gradient(0.30turn, rgb(255 0 0), rgb(0 255 255));
        }
        box: {
            shadow: -0.05em 0 15px var(--color-tertiary), 0.05em 0 15px var(--color-secondary);
        }
    }
    > span {
        position: relative;
        text-shadow: 0.05em 0 0 rgba(255, 0, 0, 0.75),
        -0.025em -0.05em 0 rgba(0, 255, 0, 0.75),
        0.025em 0.05em 0 rgba(0, 0, 255, 0.75);

        animation: glitch 1.5s infinite;
        color: white;
        span {
            position: absolute;
            top: 0;
            left: 0;
            &:first-child {
                animation: glitch 1.65s infinite;
                clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
                transform: translate(-0.025em, -0.0125em);
                opacity: 0.7;
            }
            &:last-child {
                animation: glitch 1.37s infinite;
                clip-path: polygon(0 80%, 100% 20%, 100% 100%, 0 100%);
                transform: translate(0.0125em, 0.025em);
                opacity: 0.7;
            }
        }
    }
}

@keyframes glitch {
    0% {
        text-shadow: 0.05em 0 0 rgba(255, 0, 0, 0.75),
        -0.05em -0.025em 0 rgba(0, 255, 0, 0.75),
        -0.025em 0.05em 0 rgba(0, 0, 255, 0.75);
    }
    14% {
        text-shadow: 0.05em 0 0 rgba(255, 0, 0, 0.75),
        -0.05em -0.025em 0 rgba(0, 255, 0, 0.75),
        -0.025em 0.05em 0 rgba(0, 0, 255, 0.75);
    }
    15% {
        text-shadow: -0.05em -0.025em 0 rgba(255, 0, 0, 0.75),
        0.025em 0.025em 0 rgba(0, 255, 0, 0.75),
        -0.05em -0.05em 0 rgba(0, 0, 255, 0.75);
    }
    49% {
        text-shadow: -0.05em -0.025em 0 rgba(255, 0, 0, 0.75),
        0.025em 0.025em 0 rgba(0, 255, 0, 0.75),
        -0.05em -0.05em 0 rgba(0, 0, 255, 0.75);
    }
    50% {
        text-shadow: 0.025em 0.05em 0 rgba(255, 0, 0, 0.75),
        0.05em 0 0 rgba(0, 255, 0, 0.75), 0 -0.05em 0 rgba(0, 0, 255, 0.75);
    }
    99% {
        text-shadow: 0.025em 0.05em 0 rgba(255, 0, 0, 0.75),
        0.05em 0 0 rgba(0, 255, 0, 0.75), 0 -0.05em 0 rgba(0, 0, 255, 0.75);
    }
    100% {
        text-shadow: -0.025em 0 0 rgba(255, 0, 0, 0.75),
        -0.025em -0.025em 0 rgba(0, 255, 0, 0.75),
        -0.025em -0.05em 0 rgba(0, 0, 255, 0.75);
    }
}

.h1 {
    font: {
        size: clamp(#{susanoo.rem-calc(map-get(variables.$headline-min-sizes, "h1"))}, 6vw, #{susanoo.rem-calc(map-get(variables.$headline-max-sizes, "h1"))});
    }
}

.h2 {
    font: {
        size: clamp(#{susanoo.rem-calc(map-get(variables.$headline-min-sizes, "h2"))}, 7vw, #{susanoo.rem-calc(map-get(variables.$headline-max-sizes, "h2"))});
    }
}

.h3 {
    font: {
        size: clamp(#{susanoo.rem-calc(map-get(variables.$headline-min-sizes, "h3"))}, 6vw, #{susanoo.rem-calc(map-get(variables.$headline-max-sizes, "h3"))});
    }
}

.h4 {
    font: {
        size: clamp(#{susanoo.rem-calc(map-get(variables.$headline-min-sizes, "h4"))}, 5vw, #{susanoo.rem-calc(map-get(variables.$headline-max-sizes, "h4"))});
    }
}

.h5 {
    font: {
        size: clamp(#{susanoo.rem-calc(map-get(variables.$headline-min-sizes, "h5"))}, 4vw, #{susanoo.rem-calc(map-get(variables.$headline-max-sizes, "h5"))});
    }
}
